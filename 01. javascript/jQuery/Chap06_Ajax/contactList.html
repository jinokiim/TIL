<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>List</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
	<script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.js"></script>
	<script type="text/javascript">
		$(document).ready(function () {
			// http://sample.bmaster.kro.kr/contacts
			
			// 전체 가져오기
			/*
			$.get('http://sample.bmaster.kro.kr/contacts', {pageno:1, pagesize:10}, function(data){
				// console.log(data);
				data.contacts.forEach(function(item, index){
					var temp = '<tr>'
						temp += '<td>' + item.no + '</td>'
						temp += '<td>'+item.name+'</td>'
						temp += '<td>'+item.tel+'</td>'
						temp += '<td>'+item.address+'</td>'
						temp += '<td>'+'<img src="' + item.photo + '" alt="증명사진" width="50px">'+'</td>'
						temp += '</tr>'

						$(temp).appendTo('#container')
				})

			});
			*/

			$.ajax({
				mathod: 'GET',
				url: 'http://sample.bmaster.kro.kr/contacts',
				data: {pageno:1, pagesize:10},
				success: function(data) {
					data.contacts.forEach(function(item, index){
					var temp = '<tr>'
						temp += '<td>' + item.no + '</td>'
						temp += '<td><a href="./viewItem.html">'+item.name+'</a></td>'
						temp += '<td>'+item.tel+'</td>'
						temp += '<td>'+item.address+'</td>'
						temp += '<td>'+'<img src="' + item.photo + '" alt="증명사진" width="50px">'+'</td>'
						temp += '</tr>'

						$(temp).appendTo('#tbody')
				})
				},
				error: function(error) {
					console.log(error);
				}

			});

      $('#addBtn').on('click', function(evt){
        location.assign('addItem.html');
      })

		});
	</script>
  </head>
  <body>
    <div class="card-body">
      <h2>3. 연락처 서비스</h2>
      <table class="table">
        <thead>
          <tr>
            <th>No</th>
            <th>Name</th>
            <th>Tel</th>
            <th>Address</th>
            <th>Img</th>
          </tr>
        </thead>
        <tbody id="tbody"></tbody>
        <tfoot>
          <tr>
            <td colspan="4">
              <button class="btn btn-primary" id="addBtn">ADD</button>
            </td>
          </tr>
        </tfoot>
      </table>
    </div>

    <script type="text/javascript">
      // http://sample.bmaster.kro.kr/contacts/

      

    </script>
  </body>
</html>